plugins {
    id 'java'
    id 'application'
    id "com.github.johnrengelman.shadow" version "5.1.0"
}

version '0.1.0'

sourceCompatibility = 1.8

mainClassName = 'com.github.anvo.libdbgpds.influxdb.cli.Cli'

run {
    args =  ['--bucket=xetra', '--org=trading', '--server=http://localhost:8086', '--token=mytoken', 'import', '--range=P15D']
}


repositories {
    mavenCentral()
}

dependencies {
    implementation project(':libdbgpds')
    implementation 'com.influxdb:influxdb-client-java:5.0.0'
    implementation 'info.picocli:picocli:4.6.3'

    testCompile group: 'junit', name: 'junit', version: '4.12'
}

shadowJar {
    manifest {
        attributes 'Main-Class': mainClassName
    }
}